---
layout: default
title:  "make"
date:   2017-10-03 01:53:30 -0700
---

# make
[gnu make manual][makemanual]
 
## make的执行过程：

1. 读取make files，分析其中的变量，函数，建立各个目标的依赖关系；
2. 按照目标的依赖关系和对应文件的更新时间，执行其recipes
 
分析make文件的执行流程主要是跟着`target`的依赖来进行  <br /> 
## make 常用函数
1. $(subst from,to,text) 文本替换
2. $(patsubst pattern,replacement,text) make中的`pattern`是用`%`来匹配的
3. $(strip string) 去掉字符串首尾的空白字符
4. $(filter pattern…,text) 
5. $(filter-out pattern…,text)
6. $(sort list)

7. $(dir names…) 获取一个路径的目录部分
8. $(notdir names…) 文件部分
9. $(suffix names…) 一个路径的后缀部分
10. $(basename names…) 一个路径没有后缀的部分
11. $(addsuffix suffix,names…) 添加后缀
12. $(addprefix prefix,names…) 添加前缀
13. $(wildcard pattern) 符合模式的所有文件`objects := $(wildcard *.o)`这里的模式用\*号表示
14. $(abspath names…) 返回绝对路径

15. $(foreach var,list,text) 遍历list
16. $(call variable,param,param,…) 调用自定义函数

调试：<br>
17. $(error text…) 输出错误信息，程序会终止
 >  $(warning text…)
 >   $(info text…) 
18. $(shell cat foo) 使用Linux命令

[makemanual]: <http://www.gnu.org/software/make/manual/make.html>

